name: auto clock
on:
  workflow_dispatch:
  schedule:
    - cron: '0 0 * * *'
jobs:
  my-job1:
    runs-on: ubuntu-latest
    steps:
      - name: check
        uses: actions/checkout@v3
      - name: set up python
        uses: actions/setup-python@v4
        with:
          python-version: '3.10' 
      - name: Install dependencies
        run: |
          pip install selenium
          pip install ddddocr
          pip install lxml
          pip install requests
          pip install opencv-python
          pip install opencv-contrib-python
          pip install undetected_chromedriver
      - name: Install chromedriver
        run: |
         wget -q -O - https://dl.google.com/linux/linux_signing_key.pub | sudo apt-key add - \
              && sudo sh -c 'echo "deb [arch=amd64] http://dl.google.com/linux/chrome/deb/ stable main" >> /etc/apt/sources.list.d/google-chrome.list' \
              && sudo apt-get update \
              && sudo apt-get install google-chrome-stable=109.0.5414 \
              && wget https://chromedriver.storage.googleapis.com/109.0.5414/chromedriver_linux64.zip \
              && unzip chromedriver_linux64.zip \
              && sudo mv chromedriver /usr/local/bin/ \
              && sudo chown root:root /usr/local/bin/chromedriver \
              && sudo chmod +x /usr/local/bin/chromedriver

      - name: Work
        run: |
          python ./main.py
      
        
        
